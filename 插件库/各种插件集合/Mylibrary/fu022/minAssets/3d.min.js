jQuery.fn.extend({animate3d:function(t){function e(t,e,n,a,r,i,s){var o,c,p,f,d;o=$(t).offset(),c=o.top,p=o.left,f=$(t).innerWidth(),d=$(t).innerHeight(),i(t,a,r,n,e,s),$(t).mousemove(function(t){var o=(t.pageX-p)/f-.5+a,u=(t.pageY-c)/d-.5+r;i(this,o,u,n,e,s)}),$(t).mouseleave(function(){i(this,a,r,n,e,s)})}function n(t,e,n,a,r,i){var s=n*a*-180,o=e*a*180,c=e*r,p=n*r;$(t).children().each(function(t,e){i(e,t,c,p,s,o)})}function a(t,e,n,a,r,i,s){var o=n*e,c=a*e;$(t).css("transform","translate("+o+"px ,"+c+"px) rotateX("+r+"deg) rotateY("+i+"deg)"),$(t).css("-webkit-transform","translate("+o+"px ,"+c+"px) rotateX("+r+"deg) rotateY("+i+"deg)")}var r={perspective:t.perspective||1e3,distance:t.distance||50,rotation:t.rotation||.5,startX:t.startX||0,startY:t.startY||0};$(this).each(function(t,i){$(i).css("perspective",r.perspective+"px"),e(i,r.distance,r.rotation,r.startX,r.startY,n,a),$(window).resize(function(){e(i,r.distance,r.rotation,r.startX,r.startY,n,a)})})}});